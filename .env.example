# ===========================================
# Photography Gallery - Environment Configuration
# Production Environment Template
# ===========================================

# ===========================================
# APPLICATION SETTINGS
# ===========================================
PHOTOGRAPH_HOST=your-domain.com
PHOTOGRAPH_PROTOCOL=https
RAILS_ENV=production
RACK_ENV=production

# ===========================================
# SECURITY CREDENTIALS
# ===========================================
# Generate with: openssl rand -hex 64
SECRET_KEY_BASE=generate_with_rails_secret_or_openssl_rand_hex_64

# Strong database password (minimum 16 characters)
DATABASE_PASSWORD=secure_database_password_change_me

# Strong Redis password (minimum 16 characters)
REDIS_PASSWORD=secure_redis_password_change_me

# Sidekiq Web UI credentials
SIDEKIQ_USERNAME=admin
SIDEKIQ_PASSWORD=secure_sidekiq_password_change_me

# Admin email for SSL certificates and alerts
ADMIN_EMAIL=admin@your-domain.com

# ===========================================
# PERFORMANCE TUNING
# ===========================================
# Rails application settings
RAILS_MAX_THREADS=10
WEB_CONCURRENCY=2
RAILS_MIN_THREADS=5

# Sidekiq settings
SIDEKIQ_CONCURRENCY=10
SIDEKIQ_TIMEOUT=25

# Database connection pool
DB_POOL=10

# ===========================================
# POSTGRESQL CONFIGURATION
# ===========================================
# Memory settings (adjust based on server capacity)
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_MAINTENANCE_WORK_MEM=64MB
POSTGRES_WAL_BUFFERS=16MB

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_MAX_MEMORY=256mb

# ===========================================
# STORAGE AND BACKUP PATHS
# ===========================================
# Absolute paths for data storage
DATA_PATH=/var/lib/photograph
BACKUP_PATH=/var/backups/photograph
LOG_PATH=/var/log/photograph

# ===========================================
# SSL/TLS SETTINGS
# ===========================================
# Force SSL in production
FORCE_SSL=true

# Let's Encrypt settings
LETSENCRYPT_EMAIL=${ADMIN_EMAIL}
LETSENCRYPT_DOMAIN=${PHOTOGRAPH_HOST}

# Optional: Email Configuration (if using ActionMailer)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_DOMAIN=your-domain.com

# Optional: Error Tracking (if using Sentry, Rollbar, etc.)
# SENTRY_DSN=https://your-sentry-dsn
# ROLLBAR_ACCESS_TOKEN=your-rollbar-token

# Optional: Performance Monitoring
# NEW_RELIC_LICENSE_KEY=your-new-relic-key
# RAILS_GC_PROFILING=true

# Legacy Environment Variables (for reference - not needed for Docker deployment)
# DATABASE_URL=postgresql://username:password@localhost/photograph_development
# DATABASE_USER=postgres
# DATABASE_HOST=localhost  
# DATABASE_PORT=5432
# REDIS_URL=redis://localhost:6379/0
# RACK_ATTACK_REDIS_URL=redis://localhost:6379/1

# Vercel-specific variables (not needed for Docker deployment)
# BLOB_READ_WRITE_TOKEN=your_vercel_blob_token
# VERCEL_BLOB_ENDPOINT=https://blob.vercel-storage.com
# VERCEL_BLOB_ACCESS_KEY_ID=your_access_key
# VERCEL_BLOB_SECRET_ACCESS_KEY=your_secret_key
# VERCEL_BLOB_BUCKET=your_bucket_name
# VERCEL_BLOB_REGION=us-east-1